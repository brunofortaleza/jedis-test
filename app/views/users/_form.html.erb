<div class="container">
  <h1>Cadastro de Usuário</h1>

  <%= form_for @user do |form| %>
    <% if @user.errors.any? %>
      <div class="alert alert-danger">
        <h4><%= pluralize(@user.errors.count, "erro") %>:</h4>
        <ul>
          <% @user.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <%= form.label :full_name, "Nome Completo" %>
          <%= form.text_field :full_name, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= form.label :cpf, "CPF" %>
          <%= form.text_field :cpf, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= form.label :cns, "CNS" %>
          <%= form.text_field :cns, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= form.label :email, "E-mail" %>
          <%= form.email_field :email, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= form.label :birth_date, "Data de Nascimento" %>
          <%= form.date_field :birth_date, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= form.label :phone_number, "Telefone" %>
          <%= form.text_field :phone_number, class: 'form-control', placeholder: '(99) 99999-9999' %>
          <%#= form.text_field :phone, class: 'form-control', placeholder: '(99) 99999-9999', type: 'tel', pattern: '\([0-9]{2}\) [0-9]{5}-[0-9]{4}' %>
        </div>

        <div class="form-group">
          <%= form.label :image, "Foto" %>
          <%= form.file_field :image, class: "form-control-file" %>
        </div>

        <div class="form-group">
          <%= form.label :status, "Status" %>
          <%= form.select :status, [['Inativo', false], ['Ativo', true]], {}, class: "form-control" %>
        </div>
      </div>

      <div class="col-md-6">
        <h2>Endereço</h2>

        <%= form.fields_for :address do |address_form| %>
          <div class="form-group">
            <%= address_form.label :cep, "CEP" %>
            <%= address_form.text_field :cep, class: "form-control" %>
          </div>

          <div class="form-group">
            <%= address_form.label :street, "Rua" %>
            <%= address_form.text_field :street, class: "form-control" %>
          </div>

          <div class="form-group">
            <%= address_form.label :complement, "Complemento" %>
            <%= address_form.text_field :complement, class: "form-control" %>
          </div>

          <div class="form-group">
            <%= address_form.label :neighborhood, "Bairro" %>
            <%= address_form.text_field :neighborhood, class: "form-control" %>
          </div>
          <div class="form-group">
            <%= address_form.label :city, "Cidade" %>
            <%= address_form.text_field :city, class: "form-control" %>
          </div>

          <div class="form-group">
            <%= address_form.label :state, "UF" %>
            <%= address_form.text_field :state, class: "form-control" %>
          </div>

          <div class="form-group">
            <%= address_form.label :ibge, "IBGE" %>
            <%= address_form.text_field :ibge, class: "form-control" %>
          </div>
        <% end %>
      </div>
    </div>
    <div class="actions">
      <%= link_to 'Voltar', :back, class: 'btn btn-secondary' %>
      <%= form.submit "Salvar", class: "btn btn-primary" %>
    </div>
  <% end %>
</div>
